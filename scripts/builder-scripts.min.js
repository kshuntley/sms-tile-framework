var inlineBool=!1;function copyToClipboard(s){"use strict";var t=$("<input>");$("body").append(t),t.val($(s).text().trim()).select(),document.execCommand("copy"),t.remove()}function getPortaitHTML(){"use strict";return'<div class="sms-tile sms-layout-portrait sms-text-light"><a href="#" class="sms-url"></a><div class="sms-tile-text">This is your tile text.</div></div>'}function processDropShadow(){"use strict";$("#wrapper .sms-tile").toggleClass("sms-shadow"),displayTileOutput()}function toggleImageConfigs(){"use strict";$("#imageConfigurables").slideToggle(200),processImage()}function toggleCustomColorConfigs(){"use strict";$("#customColorConfigurables").slideToggle(200),$("#sms-form-tile-color").toggleClass("disabled"),processCustomColor()}function toggleRibbonConfigs(){"use strict";$("#ribbonConfigurables").slideToggle(200),processRibbon()}function toggleGoBtnConfigs(){"use strict";$("#gobtnConfigurables").slideToggle(200),processGoBtn()}function processLayout(){"use strict";var s=$("#sms-form-tile-layout").val();$("#wrapper .sms-tile").removeClass(function(s,t){return(t.match(/(^|\s)sms-layout-\S+/g)||[]).join(" ")}),$("#wrapper .sms-tile").addClass(s),processColor(),processTriangles(),processRibbon(),processGoBtn(),processImage(),displayTileOutput()}function processText(){"use strict";var s=$("#sms-form-tile-text-value").val().replace(/\n/g,"<br>");""===s&&(s="This is your tile text."),$("#wrapper .sms-tile-text").html(s),processGoBtn()}function processImage(){"use strict";var s=$("#sms-form-tile-image-0").prop("checked"),t=$("#sms-form-tile-layout").val();if($("#wrapper .sms-tile-img").remove(),s){var e,r="",o=0,i=0,l="";switch(r=$("#sms-form-tile-image-url").val(),l=$("#sms-form-tile-image-alt").val(),t){case"sms-layout-portrait":case"sms-layout-portrait-200":o=150,i=100;break;case"sms-layout-portrait-216":o=180,i=120;break;case"sms-layout-portrait-220":o=150,i=145;break;case"sms-layout-portrait-220i":o=200,i=132;break;default:o=180,i=175}switch(""===r&&(r="https://picsum.photos/"+o+"/"+i+"/?random"),""===l&&(l="A generic picture"),e='<img src="'+r+'" width="'+o+'" height="'+i+'" alt="'+l+'" class="sms-tile-img" />',t){case"sms-layout-portrait":case"sms-layout-portrait-200":$("#wrapper .sms-url").after(e);break;default:$("#wrapper .sms-url").before(e)}}}function processURL(){"use strict";var s=$("#sms-form-tile-url-value").val();""===s&&(s="#"),$("#wrapper .sms-url").attr("href",s)}function processRibbon(){"use strict";var s=$("#sms-form-tile-ribbon-0").prop("checked");if($("#wrapper .sms-ribbon").remove(),s){var t,e,r,o="";o=$("#sms-form-tile-ribbon-text").val(),t=$("#sms-form-tile-ribbon-color").val(),e=$("input[name=sms-form-tile-ribbon-location]:checked").val(),""===o&&(o="New!"),r='<div class="sms-ribbon"><span>'+o+"</span></div>",$("#wrapper .sms-tile-text").before(r),$("#wrapper .sms-layout-landscape").append(r),$("#wrapper .sms-ribbon").addClass(t),$("#wrapper .sms-ribbon").addClass(e)}}function processGoBtn(){"use strict";var s=$("#sms-form-tile-gobtn-0").prop("checked");if($("#wrapper .sms-go-btn").remove(),s){var t,e=$("#sms-form-tile-gobtn-text").val();""===e&&(e="Go..."),t='<span class="sms-go-btn">'+e+"</span>",$("#wrapper .sms-tile-text").append(t)}}function processTriangles(){"use strict";var s=$("input[name=sms-form-tile-triangle]:checked").val();$("#wrapper .sms-tile").removeClass("sms-tri").removeClass(function(s,t){return(t.match(/(^|\s)sms-tri-\S+/g)||[]).join(" ")}),"sms-tri-none"===s?($("#wrapper .sms-tile").removeClass("sms-tri-bgcolor-white sms-tri-bgcolor-offwhite"),$("#sms-form-tile-tri-color-0").prop("checked",!0),$("input[name=sms-form-tile-tri-color]").prop("disabled",!0)):($("#wrapper .sms-tile").addClass(s).addClass("sms-tri"),$("input[name=sms-form-tile-tri-color]").prop("disabled",!1),processTriColor())}function processTriColor(){"use strict";var s=$("input[name=sms-form-tile-tri-color]:checked").val();$("#wrapper .sms-tile").removeClass("sms-tri-bgcolor-white sms-tri-bgcolor-offwhite"),"sms-tri-bgcolor-natural"!==s&&$("#wrapper .sms-tile").addClass(s)}function processColor(){"use strict";var s=$("#sms-form-tile-color").val();$("#wrapper .sms-tile").removeClass(function(s,t){return(t.match(/(^|\s)sms-color-\S+/g)||[]).join(" ")}),$("#wrapper .sms-tile").addClass(s)}function processTextColor(){"use strict";var s=$("input[name=sms-form-tile-text-color]:checked").val();$("#wrapper .sms-tile").removeClass("sms-text-light sms-text-dark"),$("#wrapper .sms-tile").addClass(s)}function processTextSize(){"use strict";var s=$("input[name=sms-form-tile-text-size]:checked").val();$("#wrapper .sms-tile").removeClass("sms-text-size sms-text-big sms-text-small sms-text-very-small sms-text-very-big"),"sms-text-size"!==s&&$("#wrapper .sms-tile").addClass(s)}function processTextAlign(){"use strict";var s=$("input[name=sms-form-tile-text-align]:checked").val();$("#wrapper .sms-tile-text").removeClass("text-left text-right text-center"),$("#wrapper .sms-tile-text").addClass(s)}function displayTileOutput(){"use strict";var s=$("#wrapper").html();$("#output").text(s)}function processCustomColor(){"use strict";var s=$("#sms-form-custom-color-toggle-0").prop("checked"),t=$("#sms-form-custom-color").val(),e="",r="";if(void 0!==(e=$("#wrapper .sms-tile").attr("style"))&&0!==e.length){var o=e.indexOf("background-color");if(o>-1){var i=e.indexOf(";",o);r=e.slice(0,o),i>-1&&(r+=e.slice(i+1))}}s&&t.length>0&&(r+="background-color:"+t+";"),0===r.length?$("#wrapper .sms-tile").removeAttr("style"):$("#wrapper .sms-tile").attr("style",r)}function runInlineConverter(){"use strict";var s=$("#wrapper .sms-tile").css("top"),t=$("#wrapper .sms-tile").css("left");computedStyleToInlineStyle(document.querySelector("#wrapper .sms-tile"),{recursive:!0,properties:["background-color","box-shadow","-moz-box-shadow","-webkit-box-shadow","box-sizing","-moz-box-siding","-webkit-box-sizing","color","display","float","font-weight","font-size","height","line-height","margin","margin-top","margin-right","margin-bottom","margin-left","padding","padding-top","padding-right","padding-bottom","padding-left","position","top","right","bottom","left","width","z-index"]});for(var e=$("#wrapper .sms-tile").attr("style"),r=e.split(";"),o=[],i=0;i<r.length;i++)r[i]=r[i].trim(),r[i].startsWith("float:")||r[i].startsWith("top:")||r[i].startsWith("left:")||r[i].startsWith("bottom:")||r[i].startsWith("right:")||o.push(r[i]);e=o.join("; "),$("#wrapper .sms-tile").attr("style",e),displayTileOutput(),inlineBool=!0,$("#wrapper").children("div").css({float:"left",top:s,left:t})}function resetTile(){"use strict";processLayout(),processText(),processURL(),processTriangles(),processTextColor(),processTextSize(),processTextAlign(),displayTileOutput()}$(function(){"use strict";$(".configurable").hide(),$("#wrapper").html(getPortaitHTML()),resetTile()}),$("#tilebuilder-form select, #tilebuilder-form textarea, #tilebuilder-form input").focus(function(){"use strict";inlineBool&&($("#wrapper").html(getPortaitHTML()),resetTile())}),$("#sms-form-tile-image-0").change(function(){"use strict";toggleImageConfigs(),displayTileOutput()}),$("#sms-form-custom-color-toggle-0").change(function(){"use strict";toggleCustomColorConfigs(),displayTileOutput()}),$("#sms-form-tile-ribbon-0").change(function(){"use strict";toggleRibbonConfigs(),displayTileOutput()}),$("#sms-form-tile-gobtn-0").change(function(){"use strict";toggleGoBtnConfigs(),displayTileOutput()}),$("#sms-form-tile-layout").change(function(){"use strict";processLayout(),displayTileOutput()}),$("#sms-form-tile-text-value").on("change keyup paste",function(){"use strict";processText(),displayTileOutput()}),$("input[name=sms-form-tile-text-align]").change(function(){"use strict";processTextAlign(),displayTileOutput()}),$("#sms-form-tile-url-value").on("change keyup paste",function(){"use strict";processURL(),displayTileOutput()}),$("#sms-form-tile-shadow-0").change(function(){"use strict";processDropShadow()}),$("#sms-form-tile-image-0").change(toggleImageConfigs()),$("#sms-form-tile-image-url").on("change paste",function(){"use strict";processImage(),displayTileOutput()}),$("#sms-form-tile-image-alt").on("change paste",function(){"use strict";processImage(),displayTileOutput()}),$("#sms-form-custom-color-toggle-0").change(toggleCustomColorConfigs()),$("#sms-form-custom-color").keypress(function(s){"use strict";13===s.which&&(processCustomColor(),displayTileOutput())}).blur(processCustomColor()),$("input[name=sms-form-tile-triangle]").change(function(){"use strict";processTriangles(),displayTileOutput()}),$("input[name=sms-form-tile-tri-color]").change(function(){"use strict";processTriColor(),displayTileOutput()}),$("#sms-form-tile-color").change(function(){"use strict";processColor(),displayTileOutput()}),$("input[name=sms-form-tile-text-color]").change(function(){"use strict";processTextColor(),displayTileOutput()}),$("input[name=sms-form-tile-text-size]").change(function(){"use strict";processTextSize(),displayTileOutput()}),$("#sms-form-tile-gobtn-0").change(toggleGoBtnConfigs()),$("#sms-form-tile-gobtn-text").change(function(){"use strict";processGoBtn(),displayTileOutput()}),$("#sms-form-tile-ribbon-0").change(toggleRibbonConfigs()),$("#sms-form-tile-ribbon-text").on("change keyup paste",function(){"use strict";processRibbon(),displayTileOutput()}),$("#sms-form-tile-ribbon-color").change(function(){"use strict";processRibbon(),displayTileOutput()}),$("input[name=sms-form-tile-ribbon-location]").change(function(){"use strict";processRibbon(),displayTileOutput()}),$("input[name=sms-form-fix-for-older-moodle]").change(function(){"use strict";displayTileOutput()}),$("input[name=sms-form-header-text-color]").change(function(){"use strict";displayTileOutput()}),$("#myTileBuilderModal").on("shown.bs.modal",function(){"use strict";$("#SMSImportTextarea").focus()}),$("#importTile").click(function(){"use strict";var s,t;s=$("#myTileBuilderModal").find("#SMSImportTextarea").val(),t=$("#wrapper").html(),$("#wrapper").html(s),$("#wrapper div").hasClass("sms-tile")||$("#wrapper").html(t),displayTileOutput(),$("#myTileBuilderModal").modal("hide")});