<!doctype html>
<html>
<head>
<meta charset="utf-8">
	<title>The Box Builder</title>
                     
   	<!-- Bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" type="text/css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous"> 
    
    <!-- Icon Picker -->
	<link href="css/fontawesome-iconpicker.min.css" type="text/css" rel="stylesheet"> 
                      
    <!-- Local (Dev) -->
    <link href="css/smstile-framework.css" type="text/css" rel="stylesheet">
    <link href="css/custom.css" type="text/css" rel="stylesheet">
	
   <!-- Local (Prod) -->
    <!-- <link href="css/smstile-framework.min.css" type="text/css" rel="stylesheet">
    <link href="css/custom.min.css" type="text/css" rel="stylesheet">	-->
    

</head>

<body id="box-builder">
	<div class="col-md-8" style="float: left; width:65%">
	
	<h3>The Box Builder</h3>
	
		<div id="wrapper">
			<div class="sms-box">

				<!-- Box Header -->
				<div>
					<div class="sms-box-header text-capitalize sms-text-light">
						<a id="this-is-a-headline-box-top" class="sms-box-header-anchor"><h4 contenteditable="false">Getting Started</h4></a>
					</div>
				</div>

				<!-- Box Abstract -->
				<div class="sms-box-abstract">
					<p contenteditable="false"><i>This topic includes an overview of <b>CRM </b>and how it is used for managing enquiries at <b>TAFE NSW</b> as well as resources to help you set up and get started.</i></p>
				</div>

				<!-- Shade Pattern 1/3 Left -->
				<div class="sms-box-shade-container sms-box-shade-pattern-left-third">
					<div class="sms-box-shade-left sms-box-shade-underlay">
						&nbsp;
					</div>
					<div class="sms-box-shade-right sms-box-shade-underlay">
						&nbsp;
					</div>

					<div class="sms-box-rows">

					<!-- Row: Column Headers -->
					<div class="sms-box-shade-overlay sms-box-row-header ui-state-default">
						<div class="sms-box-sidebar text-center" contenteditable="false">
							<h5>Artefact</h5>
						</div>
						<div class="sms-box-content text-center" contenteditable="false">
							<h5>Summary</h5>
						</div>
						<div class="sms-box-clear-bordered"></div>
					</div>

					<!-- Row: Icon & Description -->
					<div class="sms-box-shade-overlay sms-box-row-content ui-state-default">
						<div class="sms-box-sidebar text-center ">
							<p>
								<a href="https://tafe.learn.tafensw.edu.au/mod/scorm/view.php?id=10931" target="_blank" class="sms-box-sidebar-artefact-icon">
									<i aria-hidden="true" class="fa fa-graduation-cap fa-2x"></i>
								</a><br>
								<a href="https://tafe.learn.tafensw.edu.au/mod/scorm/view.php?id=10931" target="_blank" class="sms-box-sidebar-artefact-title"  contenteditable="false">
									eLearning: Overview of Managing Enquiries
								</a><br>
								<i class="sms-box-sidebar-artefact-filesize" contenteditable="false">20 minutes</i>
							</p>
						</div>
						<div class="sms-box-content">
							<p contenteditable="false">An overview of CRM including the approach to managing enquiries, functions of <b>CRM </b>and a <b>CRM </b>walkthrough.</p>
						</div>

						<!-- Clear Div -->
						<div class="sms-box-clear-bordered"></div>
					</div>

					<!-- Row: Icon & List Box -->
					<div class="sms-box-shade-overlay sms-box-row-content ui-state-default">	
						<div class="sms-box-sidebar text-center ">
							<p>
								<span class="sms-box-sidebar-artefact-icon">
									<i aria-hidden="true" class="fa fa-file-pdf-o fa-2x"></i>
								</span><br>
								<span class="sms-box-sidebar-artefact-title"  contenteditable="false">
									Work Instructions
								</span><br>
							</p>
						</div>
						<div class="sms-box-content">
							<ul class="sms-box-multi-list">
								<li><a href="http://google.com">WI - Work Instruction 1</a> <span class="details">(12 kb)</span></li>
								<li><a href="http://google.com">WI - Work Instruction 2</a> <span class="details">(12 kb)</span></li>
								<li><a href="http://google.com">WI - Work Instruction 3</a> <span class="details">(12 kb)</span></li>
								<li><a href="http://google.com">WI - Work Instruction 4</a> <span class="details">(12 kb)</span></li>
								<li><a href="http://google.com">WI - Work Instruction 5</a> <span class="details">(12 kb)</span></li>
								<li><a href="http://google.com">WI - Work Instruction 6</a> <span class="details">(12 kb)</span></li>
								<li><a href="http://google.com">WI - Work Instruction 7</a> <span class="details">(12 kb)</span></li>
								<li><a href="http://google.com">WI - Work Instruction 8</a> <span class="details">(12 kb)</span></li>
								<li><a href="http://google.com">WI - Work Instruction 9</a> <span class="details">(12 kb)</span></li>
								<li><a href="http://google.com">WI - Work Instruction 10</a> <span class="details">(12 kb)</span></li>
								<li><a href="http://google.com">WI - Work Instruction 11</a> <span class="details">(12 kb)</span></li>
								<li><a href="http://google.com">WI - Work Instruction 12</a> <span class="details">(12 kb)</span></li>							
							</ul>
						</div>

						<!-- Clear Div -->
						<div class="sms-box-clear-bordered"></div>
					</div>										


					</div>

				<!-- End Pattern Div -->		
				</div>	

			<!-- End Box Div -->
			</div>

		<!-- End Wrapper Div -->
		</div>	
	</div>
	<div class="col-md-4 text-left form-row" style="float: left; width:30%;">	
	
		<form class="form-vertical" id="boxbuilder-form">
			<fieldset>
			<legend style="margin-bottom: auto">Options</legend>
			<div class="form-group" style="width: 80%; margin: 0 1em 1em">
				<label class="control-label" for="sms-form-box-color">Box Colour</label>
				<div class="col">
					<select id="sms-form-box-color" name="sms-form-box-color" class="form-control">
						<optgroup label="Brand Book Colour Palette" class="sms-text-dark">
							<option value="sms-color-teal" class="sms-color-teal sms-text-light">Teal</option>
							<option value="sms-color-dark-teal" class="sms-color-dark-teal sms-text-light" selected>Dark Teal</option>
							<option value="sms-color-aa-teal" class="sms-color-aa-teal sms-text-light">AA Dark Teal</option>
							<option value="sms-color-denim-blue" class="sms-color-denim-blue sms-text-light">Denim Blue</option>
							<option value="sms-color-azure-blue" class="sms-color-azure-blue sms-text-light">Azure Blue</option>
							<option value="sms-color-aa-azure-blue" class="sms-color-aa-azure-blue sms-text-light">AA Azure Blue</option>
							<option value="sms-color-lavendar" class="sms-color-lavendar sms-text-light">Lavendar</option>
							<option value="sms-color-dark-lavendar" class="sms-color-dark-lavendar sms-text-light">Dark Lavendar</option>
							<option value="sms-color-aa-dark-lavendar" class="sms-color-aa-dark-lavendar sms-text-light">AA Dark Lavendar</option>
							<option value="sms-color-fresh-peach" class="sms-color-fresh-peach sms-text-light">Fresh Peach</option>
							<option value="sms-color-ripe-peach" class="sms-color-ripe-peach sms-text-light">Ripe Peach</option>
							<option value="sms-color-aa-dark-peach" class="sms-color-aa-dark-peach sms-text-light">AA Dark Peach</option>
							<option value="sms-color-lemonade-yellow" class="sms-color-lemonade-yellow sms-text-dark">Lemonade Yellow</option>
							<option value="sms-color-sunshine-yellow" class="sms-color-sunshine-yellow sms-text-dark">Sunshine Yellow</option>
							<option value="sms-color-minty-green" class="sms-color-minty-green sms-text-dark">Minty Green</option>
							<option value="sms-color-spearmint" class="sms-color-spearmint sms-text-light">Spearmint</option>
							<option value="sms-color-aa-green" class="sms-color-aa-green sms-text-light">AA Green</option>
							<option value="sms-color-aqua" class="sms-color-aqua sms-text-light">Aqua</option>
							<option value="sms-color-deep-aqua" class="sms-color-deep-aqua sms-text-light">Deep Aqua</option>
							<option value="sms-color-aa-aqua" class="sms-color-aa-aqua sms-text-light">AA Aqua</option>
							<option value="sms-color-powder-mauve" class="sms-color-powder-mauve sms-text-light">Powder Mauve</option>
							<option value="sms-color-mauve" class="sms-color-mauve sms-text-light">Mauve</option>
							<option value="sms-color-aa-mauve" class="sms-color-aa-mauve sms-text-light">AA Mauve</option>
							<option value="sms-color-flamingo" class="sms-text-light sms-color-flamingo">Flamingo</option>
							<option value="sms-color-bubblegum" class="sms-text-light sms-color-bubblegum">Bubblegum</option>
							<option value="sms-color-aa-pink" class="sms-color-aa-pink sms-text-light">AA Pink</option>
							<option value="sms-color-apricot" class="sms-text-light sms-color-apricot">Apricot</option>
							<option value="sms-color-goldie" class="sms-text-light sms-color-goldie">Goldie</option>
						</optgroup>
						<optgroup label="Brand Book B&W" class="sms-text-dark">
							<option value="sms-color-black" class="sms-text-light sms-color-black">Black</option>
							<option value="sms-color-charcoal" class="sms-text-light sms-color-charcoal">Charcoal</option>
							<option value="sms-color-grey1" class="sms-text-light sms-color-grey1">Grey 1</option>
							<option value="sms-color-grey2" class="sms-text-light sms-color-grey2">Grey 2</option>
							<option value="sms-color-grey3" class="sms-text-light sms-color-grey3">Grey 3</option>
							<option value="sms-color-grey4" class="sms-text-dark sms-color-grey2">Grey 4</option>
							<option value="sms-color-grey5" class="sms-text-dark sms-color-grey5">Grey 5</option>
						</optgroup>
						<optgroup label="TAFE Intranet Colours" class="sms-text-dark">
							<option value="sms-color-intranet-blue" class="sms-text-light sms-color-intranet-blue">Intranet Blue</option>
							<option value="sms-color-intranet-purple" class="sms-text-light sms-color-intranet-purple">Intranet Purple</option>
							<option value="sms-color-intranet-turquoise" class="sms-text-light sms-color-intranet-turquoise">Intranet Turquoise</option>
							<option value="sms-color-intranet-ochre" class="sms-text-light sms-color-intranet-ochre">Intranet Ochre</option>		
						</optgroup>
						<optgroup label="SMS R2 Mockup Colours" class="sms-text-dark">
							<option value="sms-color-smsmock-blue" class="sms-text-light sms-color-smsmock-blue">SMS Blue</option>
							<option value="sms-color-smsmock-green" class="sms-text-light sms-color-smsmock-green">SMS Green</option>
							<option value="sms-color-smsmock-grey" class="sms-text-light sms-color-smsmock-grey">SMS Grey</option>
							<option value="sms-color-smsmock-orange" class="sms-text-light sms-color-smsmock-orange">SMS Orange</option>
							<option value="sms-color-smsmock-pink" class="sms-text-light sms-color-smsmock-pink">SMS Pink</option>
							<option value="sms-color-smsmock-purple" class="sms-text-light sms-color-smsmock-purple">SMS Purple</option>
							<option value="sms-color-smsmock-turquoise" class="sms-text-light sms-color-smsmock-turquoise">SMS Turquoise</option>
							<option value="sms-color-smsmock-yellow" class="sms-text-dark sms-color-smsmock-yellow">SMS Yellow</option>
						</optgroup>
					</select>
				</div>
			</div>
			</fieldset>
			
		
			
			<div class="form-group">
				<label class="col-md-6 control-label" for="sms-box-sidebar-artefact-icon-chooser">Set Icons</label>
				<br>
				<div class="col-md-10 editIconBtns">
					<button class="btn btn-primary action-create">Edit Icons</button>
					<button class="btn btn-danger action-destroy" disabled="disabled">Stop Editing Icons</button>
					

				</div>
			</div>
			
			<!-- Multiple Radios: Text Colors -->
			<div class="form-group">
				<label class="col-md-6 control-label" for="sms-form-tile-text-color">Text Color</label>
				<div class="col-md-2">
					<div class="radio">
						<label for="sms-form-tile-text-color-0">
							<input type="radio" name="sms-form-tile-text-color" id="sms-form-tile-text-color-0" value="sms-text-light" checked="checked" onClick="processTextColor();">
							Light
						</label>
					</div>
					<div class="radio">
						<label for="sms-form-tile-text-color-1">
							<input type="radio" name="sms-form-tile-text-color" id="sms-form-tile-text-color-1" value="sms-text-dark" onClick="processTextColor();">
							Dark
						</label>
					</div>
				</div>
			</div>

			<!-- Multiple Checkboxes: Include Drop Shadow -->
			<div class="form-group">
				<label class="col-md-6 control-label" for="sms-form-tile-shadow">Drop Shadow</label>
				<div class="col-md-6">
					<div class="checkbox">
						<label for="sms-form-tile-shadow-0">
							<input type="checkbox" name="sms-form-tile-shadow" id="sms-form-tile-shadow-0" value="yes">
							Yes
						</label>
					</div>
				</div>
			</div>  			
			
		</form>

		<div class="buttonrow btn-group dragAndSortBtns" role="group">
			<button onClick="toggleSortable()" class="btn btn-success" id="btnSortable">Enable Drag &amp; Drop</button>
			<button onClick="toggleEditable()" class="btn btn-success" id="btnEditable">Show Editable Content</button>	
		</div>
		
		<div class="buttonrow btn-group editRowBtns" role="group">
			<button onClick="addRow('Header')" class="btn btn-primary" id="btnNewHeader">Add Header Row</button>
			<button onClick="addRow('Artefact')" class="btn btn-primary" id="btnNewArtefact">Add Artefact Row</button>
			<button onClick="addRow('Multiple')" class="btn btn-primary" id="btnNewMultiple">Add Multiple Files Row</button>						
		</div>
		
		<div class="buttonrow editRowBtns" role="group">
			<button onClick="deleteRow()" class="btn btn-danger" id="btnDeleteRow">Delete Last Row</button>								
		</div>				
	
	</div>
	
	<div class="outputcode col-md-10">
		<h3>Output</h3>
		<p><i>Copy and paste this HTML:</i><br>
		<code id="output">
		</code></p>
	
		<button type="button" onClick="copyToClipboard('#output')" class="btn btn-danger">Copy HTML</button>
		<button type="button" id="inlinestylebutton" class="btn btn-success" onClick="runInlineConverter()">Convert to Inline CSS</button>
		<button type="button" id="importcode" class="btn btn-info launch-modal" data-toggle="modal" data-target="#myBoxBuilderModal">Import Box HTML</button>
	</div> 
	
	<!-- Import Modal -->
	<div class="modal fade" id="myBoxBuilderModal" tabindex="-1" role="dialog" aria-labelledby="myBoxBuilderModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
		<div class="modal-content">
		  <div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			<h4 class="modal-title" id="myBoxBuilderModalLabel">SMS Box HTML</h4>
		  </div>
		  <div class="modal-body">
			<textarea id="SMSImportTextarea" class="form-control" rows="6"></textarea>
		  </div>
		  <div class="modal-footer">
			<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			<button type="button" class="btn btn-primary" id="importBox">Import</button>
		  </div>
		</div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->    	

	<!-- jQuery -->
	<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js" integrity="sha256-eGE6blurk5sHj+rmkfsGYeKyZx3M4bG+ZlFyA7Kns7E=" crossorigin="anonymous"></script>

   	<!-- Bootstrap -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    
    <!-- Icon Picker -->
    <script src="scripts/fontawesome-iconpicker.js"></script>
    
    <!-- Inline Style -->
    <script src="scripts/cssinline.js"></script>

	<!-- Custom Scripts to add to separate file -->
	<script>
		function getHeaderRow() {
			var insertText = '\
				<!-- Row: Column Headers -->\
				<div class="sms-box-shade-overlay sms-box-row-header ui-state-default">\
					<div class="sms-box-sidebar text-center" contenteditable="false">\
						<h5>Artefact</h5>\
					</div>\
					<div class="sms-box-content text-center" contenteditable="false">\
						<h5>Summary</h5>\
					</div>\
					<!-- Clear Div -->\
					<div class="sms-box-clear-bordered"></div>\
				</div>';	
			return insertText;
		}
		
		function getArtefactRow() {
			var insertText = '\
				<!-- Row: Icon & Description -->\
				<div class="sms-box-shade-overlay sms-box-row-content ui-state-default">\
					<div class="sms-box-sidebar text-center ">\
						<p>\
							<a href="https://tafe.learn.tafensw.edu.au/mod/scorm/view.php?id=10931" target="_blank" class="sms-box-sidebar-artefact-icon">\
								<i aria-hidden="true" class="fa fa-graduation-cap fa-2x"></i>\
							</a><br>\
							<a href="https://tafe.learn.tafensw.edu.au/mod/scorm/view.php?id=10931" target="_blank" class="sms-box-sidebar-artefact-title"  contenteditable="false">\
								eLearning: Overview of Managing Enquiries\
							</a><br>\
							<i class="sms-box-sidebar-artefact-filesize" contenteditable="false">20 minutes</i>\
						</p>\
					</div>\
					<div class="sms-box-content">\
						<p contenteditable="false">An overview of CRM including the approach to managing enquiries, functions of <b>CRM </b>and a <b>CRM\ </b>walkthrough.</p>\
					</div>\
					<!-- Clear Div -->\
					<div class="sms-box-clear-bordered"></div>\
				</div>';
			return insertText;
		}
		
		function getMultipleFilesRow() {
			var insertText = '\
				<!-- Row: Icon & List Box -->\
				<div class="sms-box-shade-overlay sms-box-row-content ui-state-default">\
					<div class="sms-box-sidebar text-center ">\
						<p>\
							<span class="sms-box-sidebar-artefact-icon">\
								<i aria-hidden="true" class="fa fa-file-pdf-o fa-2x"></i>\
							</span><br>\
							<span class="sms-box-sidebar-artefact-title" contenteditable="false">\
								Work Instructions\
							</span><br>\
						</p>\
					</div>\
					<div class="sms-box-content">\
						<ul class="sms-box-multi-list">\
							<li><a href="http://google.com">WI - Work Instruction 1</a> <span class="details">(12 kb)</span></li>\
							<li><a href="http://google.com">WI - Work Instruction 2</a> <span class="details">(12 kb)</span></li>\
							<li><a href="http://google.com">WI - Work Instruction 3</a> <span class="details">(12 kb)</span></li>\
							<li><a href="http://google.com">WI - Work Instruction 4</a> <span class="details">(12 kb)</span></li>\
							<li><a href="http://google.com">WI - Work Instruction 5</a> <span class="details">(12 kb)</span></li>\
							<li><a href="http://google.com">WI - Work Instruction 6</a> <span class="details">(12 kb)</span></li>\
							<li><a href="http://google.com">WI - Work Instruction 7</a> <span class="details">(12 kb)</span></li>\
							<li><a href="http://google.com">WI - Work Instruction 8</a> <span class="details">(12 kb)</span></li>\
							<li><a href="http://google.com">WI - Work Instruction 9</a> <span class="details">(12 kb)</span></li>\
							<li><a href="http://google.com">WI - Work Instruction 10</a> <span class="details">(12 kb)</span></li>\
							<li><a href="http://google.com">WI - Work Instruction 11</a> <span class="details">(12 kb)</span></li>\
							<li><a href="http://google.com">WI - Work Instruction 12</a> <span class="details">(12 kb)</span></li>\
						</ul>\
					</div>\
					<!-- Clear Div -->\
					<div class="sms-box-clear-bordered"></div>\
				</div>';
			return insertText;
		}
		
		function addRow(rowType) {
			'use strict';
			
			var newRow;
			
			if (rowType === undefined) rowType = 'Artefact';
			
			if (rowType === 'Header') 
				newRow = getHeaderRow();
			else if (rowType === 'Artefact')
				newRow = getArtefactRow();
			else
				newRow = getMultipleFilesRow();
			
			$(".sms-box .sms-box-rows").append(newRow);
			
			tobeDeleteDisabled();
			displayBoxOutput();
		}
		
		function deleteRow() {
			'use strict';
			
			$(".sms-box .sms-box-rows").children().last().remove();

			tobeDeleteDisabled();
			displayBoxOutput();
		}
		
		function tobeDeleteDisabled() {
			var numRows = ($(".sms-box .sms-box-rows").children().length);
			
			if ((numRows) < 2) {
				$("#btnDeleteRow").prop("disabled", true);
			} else {
				$("#btnDeleteRow").prop("disabled", false);
			}
		}
			
		function processColor() {
			'use strict';
			var newColor = $("#sms-form-box-color").val();	

			// Remove exisiting color, then add the new color
			$("#wrapper .sms-box").removeClass(function (index, className) {
				return(className.match (/(^|\s)sms-color-\S+/g) || []).join(' ');
			});
			$("#wrapper .sms-box").addClass(newColor);		
		}
		
		function toggleSortable() {
			'use strict';			
			var btnText = $("#btnSortable").text();


			if (btnText.startsWith("En")) {
				btnText = btnText.replace("En", "Dis");
				$(".editRowBtns button, .editIconBtns .action-create").prop("disabled", true);				
				$(".sms-box-rows").css({"cursor":"grab"}).sortable("enable").sortable({
					"cursor":"move",
					"axis": "y",
					"revert": true,
				});

			} else {
				btnText = btnText.replace("Dis", "En");
				$(".editRowBtns button, .editIconBtns .action-create").prop("disabled", false);				
				$(".sms-box-rows").css({"cursor":"auto"}).sortable("disable");
				displayBoxOutput();
			}
			
			tobeDeleteDisabled();

			$("#btnSortable").toggleClass("btn-danger").toggleClass("btn-success").text(btnText);

		}

		function toggleEditable() {
			'use strict';			
			var btnText = $("#btnEditable").text();

			if (btnText.startsWith("Show")) {
				btnText = btnText.replace("Show", "Hide");
				$("[contenteditable]").css({"cursor":"text"}).attr('contenteditable',true);
				$(".editRowBtns button, .editIconBtns .action-create").prop("disabled", true);

			} else {
				btnText = btnText.replace("Hide", "Show");
				$("[contenteditable='true']").css({"cursor":"auto"}).attr('contenteditable',false);
				$(".editRowBtns button, .editIconBtns .action-create").prop("disabled", false);
				
				// Bug with hyperlinks not going back to pointer
				$("a[contenteditable]").css({"cursor":"pointer"});
				displayBoxOutput();
			}

			$("[contenteditable]").toggleClass("showEditable");
			$('[class=""]').removeAttr('class'); // Hack to remove empty class attributes. Doesn't affect code, just make less ugly


			$("#btnEditable").toggleClass("btn-danger").toggleClass("btn-success").text(btnText);

			tobeDeleteDisabled();
			
		}	

		$( document).ready(function() {
			
			displayBoxOutput();

			$( ".sms-box-rows" ).sortable({disabled: true});

			$("#sms-form-box-color").change(function() {
				processColor();
				displayBoxOutput();
			});

			$('#wrapper').click(function(e) {
				e.preventDefault();
			});
			
			// Stop Editing Icons
			$('.action-destroy').on('click', function () {
				$.iconpicker.batch('.icp.iconpicker-element', 'destroy');
				$('.icp').remove();
				$('.action-create').removeAttr('disabled');
				$('.action-destroy').attr('disabled','disabled');
				$(".editRowBtns button, .dragAndSortBtns button").prop("disabled", false);
				
				displayBoxOutput();
			});	
			
			// Start Editing Icons
			$('.action-create').on('click', function() {
				$('.sms-box .sms-box-sidebar-artefact-icon .fa').after(function() {
					var faiconO = $(this).attr("class");
					var faicon = faiconO.replace("fa-2x", "");
					return '<input class="form-control icp" value="' + faicon.trim() + '" type="text">';
				});
				
				$(".editRowBtns button, .dragAndSortBtns button").prop("disabled", true);
				
				$('.icp').iconpicker({
					title: 'Choose a new icon',
					mustAccept: true,
					showFooter: true,
					placement: 'right',
					icons: [{title:"fa fa-address-book",searchTerms:['Address Book']},{title:"fa fa-address-book-o",searchTerms:['Address Book Outline']},{title:"fa fa-address-card",searchTerms:['Address Card']},{title:"fa fa-address-card-o",searchTerms:['Address Card Outline']},{title:"fa fa-adjust",searchTerms:['Adjust']},{title:"fa fa-align-center",searchTerms:['Centre Align']},{title:"fa fa-align-justify",searchTerms:['Justify Align']},{title:"fa fa-align-left",searchTerms:['Left Align']},{title:"fa fa-align-right",searchTerms:['Right Align']},{title:"fa fa-amazon",searchTerms:['Amazon Logo']},{title:"fa fa-ambulance",searchTerms:['Ambulance']},{title:"fa fa-anchor",searchTerms:['Anchor']},{title:"fa fa-android",searchTerms:['Android Logo']},{title:"fa fa-angle-double-down",searchTerms:['Double Down Angles']},{title:"fa fa-angle-double-left",searchTerms:['Double Left Angles']},{title:"fa fa-angle-double-right",searchTerms:['Double Right Angles']},{title:"fa fa-angle-double-up",searchTerms:['Double Up Angles']},{title:"fa fa-apple",searchTerms:['Apple Logo']},{title:"fa fa-archive",searchTerms:['Archive Box']},{title:"fa fa-area-chart",searchTerms:['Area Chart']},{title:"fa fa-arrow-circle-down",searchTerms:['Down Arrow in Circle']},{title:"fa fa-arrow-circle-left",searchTerms:['Left Arrow in Circle']},{title:"fa fa-arrow-circle-o-down",searchTerms:['Down Arrow in Open Circle']},{title:"fa fa-arrow-circle-o-left",searchTerms:['Left Arrow in Open Circle']},{title:"fa fa-arrow-circle-o-right",searchTerms:['Right Arrow in Open Circle']},{title:"fa fa-arrow-circle-o-up",searchTerms:['Up Arrow in Open Circle']},{title:"fa fa-arrow-circle-right",searchTerms:['Right Arrow in Circle']},{title:"fa fa-arrow-circle-up",searchTerms:['Up Arrow in Circle']},{title:"fa fa-arrow-down",searchTerms:['Down Arrow']},{title:"fa fa-arrow-left",searchTerms:['Left Arrow']},{title:"fa fa-arrow-right",searchTerms:['Right Arrow']},{title:"fa fa-arrows",searchTerms:['Move']},{title:"fa fa-arrows-h",searchTerms:['Horizontal Arrows']},{title:"fa fa-arrows-v",searchTerms:['Vertical Arrows']},{title:"fa fa-arrow-up",searchTerms:['Up Arrow']},{title:"fa fa-asl-interpreting",searchTerms:['Sign Language Interpreting']},{title:"fa fa-asterisk",searchTerms:['Asterisk']},{title:"fa fa-at",searchTerms:['At Arobase Symbol']},{title:"fa fa-audio-description",searchTerms:['Audio Description']},{title:"fa fa-backward",searchTerms:['Rewind']},{title:"fa fa-balance-scale",searchTerms:['Scales']},{title:"fa fa-ban",searchTerms:['Ban Sign']},{title:"fa fa-bar-chart",searchTerms:['Bar Chart']},{title:"fa fa-barcode",searchTerms:['Barcode']},{title:"fa fa-bars",searchTerms:['Menu Bars']},{title:"fa fa-bath",searchTerms:['Bathtub']},{title:"fa fa-battery-empty",searchTerms:['Empty Battery']},{title:"fa fa-battery-full",searchTerms:['Full Battery']},{title:"fa fa-battery-half",searchTerms:['Half Battery']},{title:"fa fa-battery-quarter",searchTerms:['Quarter Battery']},{title:"fa fa-battery-three-quarters",searchTerms:['Three Quarter Battery']},{title:"fa fa-bed",searchTerms:['Bed']},{title:"fa fa-bell",searchTerms:['Bell']},{title:"fa fa-bell-o",searchTerms:['Bell Outline']},{title:"fa fa-bell-slash",searchTerms:['Strikethrough Bell']},{title:"fa fa-bell-slash-o",searchTerms:['Strikethrough Bell Outline']},{title:"fa fa-bicycle",searchTerms:['Bicycle']},{title:"fa fa-binoculars",searchTerms:['Binoculars']},{title:"fa fa-birthday-cake",searchTerms:['Birthday Cake']},{title:"fa fa-bitbucket",searchTerms:['Bitbucket Logo']},{title:"fa fa-bitbucket-square",searchTerms:['Bitbucket Logo in Square']},{title:"fa fa-blind",searchTerms:['Blind Man']},{title:"fa fa-bluetooth",searchTerms:['Bluetooth Logo']},{title:"fa fa-bluetooth-b",searchTerms:['Alternate Bluetooth Logo']},{title:"fa fa-bold",searchTerms:['Bold']},{title:"fa fa-bolt",searchTerms:['Lightning Bolt']},{title:"fa fa-bomb",searchTerms:['Bomb']},{title:"fa fa-book",searchTerms:['Book']},{title:"fa fa-bookmark",searchTerms:['Bookmark']},{title:"fa fa-bookmark-o",searchTerms:['Bookmark Outline']},{title:"fa fa-braille",searchTerms:['Braille']},{title:"fa fa-briefcase",searchTerms:['Briefcase']},{title:"fa fa-btc",searchTerms:['Bitcoin Currency Symbol']},{title:"fa fa-bug",searchTerms:['Bug']},{title:"fa fa-building",searchTerms:['Building']},{title:"fa fa-building-o",searchTerms:['Building Outline']},{title:"fa fa-bullhorn",searchTerms:['Bullhorn']},{title:"fa fa-bullseye",searchTerms:['Bullseye Target']},{title:"fa fa-bus",searchTerms:['Bus']},{title:"fa fa-cab",searchTerms:['Cab']},{title:"fa fa-calculator",searchTerms:['Calculator']},{title:"fa fa-calendar",searchTerms:['Calendar']},{title:"fa fa-calendar-check-o",searchTerms:['Checkmark in Calendar Outline']},{title:"fa fa-calendar-minus-o",searchTerms:['Minus Symbol in Calendar Outline']},{title:"fa fa-calendar-o",searchTerms:['Calendar Outline']},{title:"fa fa-calendar-plus-o",searchTerms:['Plus Symbol in Calendar Outline']},{title:"fa fa-calendar-times-o",searchTerms:['Times Symbol in Calendar Outline']},{title:"fa fa-camera",searchTerms:['Camera']},{title:"fa fa-camera-retro",searchTerms:['Retro Camera']},{title:"fa fa-car",searchTerms:['Car']},{title:"fa fa-cart-arrow-down",searchTerms:['Down Arrow in Shopping Cart']},{title:"fa fa-cart-plus",searchTerms:['Plus Symbol in Shopping Cart']},{title:"fa fa-cc",searchTerms:['Closed Captions']},{title:"fa fa-cc-amex",searchTerms:['American Express Card']},{title:"fa fa-cc-discover",searchTerms:['Discover Card']},{title:"fa fa-cc-mastercard",searchTerms:['MasterCard']},{title:"fa fa-cc-paypal",searchTerms:['PayPal Card']},{title:"fa fa-cc-stripe",searchTerms:['Stripe Card']},{title:"fa fa-cc-visa",searchTerms:['Visa Card']},{title:"fa fa-certificate",searchTerms:['Certificate Stamp']},{title:"fa fa-check",searchTerms:['Checkmark']},{title:"fa fa-check-circle",searchTerms:['Checkmark in Circle']},{title:"fa fa-check-circle-o",searchTerms:['Checkmark in Open Circle']},{title:"fa fa-check-square",searchTerms:['Checkmark in Square']},{title:"fa fa-check-square-o",searchTerms:['Checkmark in Open Square']},{title:"fa fa-chevron-circle-down",searchTerms:['Down Chevron in Circle']},{title:"fa fa-chevron-circle-left",searchTerms:['Left Chevron in Circle']},{title:"fa fa-chevron-circle-right",searchTerms:['Right Chevron in Circle']},{title:"fa fa-chevron-circle-up",searchTerms:['Up Chevron in Circle']},{title:"fa fa-chevron-down",searchTerms:['Down Chevron']},{title:"fa fa-chevron-left",searchTerms:['Left Chevron']},{title:"fa fa-chevron-right",searchTerms:['Right Chevron']},{title:"fa fa-chevron-up",searchTerms:['Up Chevron']},{title:"fa fa-child",searchTerms:['Child']},{title:"fa fa-chrome",searchTerms:['Chrome Browser Logo']},{title:"fa fa-circle",searchTerms:['Circle']},{title:"fa fa-circle-o",searchTerms:['Open Circle']},{title:"fa fa-circle-thin",searchTerms:['Thin Circle']},{title:"fa fa-clock-o",searchTerms:['Clock']},{title:"fa fa-clone",searchTerms:['Clone']},{title:"fa fa-cloud",searchTerms:['Cloud']},{title:"fa fa-cloud-download",searchTerms:['Download from Cloud']},{title:"fa fa-cloud-upload",searchTerms:['Upload to Cloud']},{title:"fa fa-code",searchTerms:['Code Symbol']},{title:"fa fa-coffee",searchTerms:['Coffee Cup']},{title:"fa fa-columns",searchTerms:['Columns']},{title:"fa fa-comment",searchTerms:['Speech Bubble']},{title:"fa fa-commenting",searchTerms:['Commenting']},{title:"fa fa-commenting-o",searchTerms:['Commenting Outline']},{title:"fa fa-comment-o",searchTerms:['Speech Bubble Outline']},{title:"fa fa-comments",searchTerms:['Discussion']},{title:"fa fa-comments-o",searchTerms:['Discussion Outline']},{title:"fa fa-compass",searchTerms:['Compass']},{title:"fa fa-compress",searchTerms:['Compress']},{title:"fa fa-copyright",searchTerms:['Copyright Symbol']},{title:"fa fa-creative-commons",searchTerms:['Creative Commons Mark']},{title:"fa fa-credit-card",searchTerms:['Credit Card']},{title:"fa fa-credit-card-alt",searchTerms:['Alternate Credit Card']},{title:"fa fa-crosshairs",searchTerms:['Crosshairs']},{title:"fa fa-css3",searchTerms:['CSS3 Logo']},{title:"fa fa-cube",searchTerms:['Cube']},{title:"fa fa-cubes",searchTerms:['Cubes']},{title:"fa fa-dashboard",searchTerms:['Dashboard']},{title:"fa fa-dashcube",searchTerms:['Dashcube Logo']},{title:"fa fa-database",searchTerms:['Database']},{title:"fa fa-deaf",searchTerms:['Deafness']},{title:"fa fa-desktop",searchTerms:['Desktop Computer']},{title:"fa fa-diamond",searchTerms:['Diamond']},{title:"fa fa-download",searchTerms:['Download']},{title:"fa fa-dropbox",searchTerms:['Dropbox Logo']},{title:"fa fa-drupal",searchTerms:['Drupal Logo']},{title:"fa fa-eject",searchTerms:['Eject']},{title:"fa fa-ellipsis-h",searchTerms:['Ellipsis']},{title:"fa fa-ellipsis-v",searchTerms:['Vertical Ellipsis']},{title:"fa fa-empire",searchTerms:['Galactic Empire']},{title:"fa fa-envelope",searchTerms:['Envelope']},{title:"fa fa-envelope-o",searchTerms:['Envelope Outline']},{title:"fa fa-envelope-open",searchTerms:['Open Envelope']},{title:"fa fa-envelope-open-o",searchTerms:['Open Envelope Outline']},{title:"fa fa-envelope-square",searchTerms:['Envelope in Square']},{title:"fa fa-envira",searchTerms:['Alternate Leaf']},{title:"fa fa-eraser",searchTerms:['Eraser']},{title:"fa fa-eur",searchTerms:['Euro Currency Symbol']},{title:"fa fa-exchange",searchTerms:['Exchange']},{title:"fa fa-exclamation",searchTerms:['Exclamation Mark']},{title:"fa fa-exclamation-circle",searchTerms:['Exclamation Mark in Circle']},{title:"fa fa-expand",searchTerms:['Expand']},{title:"fa fa-external-link-square",searchTerms:['External Link in Square']},{title:"fa fa-eye",searchTerms:['Eye']},{title:"fa fa-eyedropper",searchTerms:['Eyedropper']},{title:"fa fa-eye-slash",searchTerms:['No Eye']},{title:"fa fa-facebook",searchTerms:['Facebook Logo']},{title:"fa fa-facebook-square",searchTerms:['Facebook Logo in Square']},{title:"fa fa-fax",searchTerms:['Fax Machine']},{title:"fa fa-female",searchTerms:['Female']},{title:"fa fa-file",searchTerms:['File']},{title:"fa fa-file-audio-o",searchTerms:['Audio File Outline']},{title:"fa fa-file-code-o",searchTerms:['Code File Outline']},{title:"fa fa-file-excel-o",searchTerms:['Excel File Outline']},{title:"fa fa-file-o",searchTerms:['File Outline']},{title:"fa fa-file-pdf-o",searchTerms:['PDF File Outline']},{title:"fa fa-file-picture-o",searchTerms:['Picture File Outline']},{title:"fa fa-file-powerpoint-o",searchTerms:['PowerPoint File Outline']},{title:"fa fa-files-o",searchTerms:['Files Outline']},{title:"fa fa-file-text",searchTerms:['Text File']},{title:"fa fa-file-text-o",searchTerms:['Text File Outline']},{title:"fa fa-file-video-o",searchTerms:['Video File Outline']},{title:"fa fa-file-word-o",searchTerms:['Word File Outline']},{title:"fa fa-file-zip-o",searchTerms:['Zip File Outline']},{title:"fa fa-film",searchTerms:['Film Strip']},{title:"fa fa-filter",searchTerms:['Filter']},{title:"fa fa-fire",searchTerms:['Flame']},{title:"fa fa-fire-extinguisher",searchTerms:['Fire Extinguisher']},{title:"fa fa-firefox",searchTerms:['Firefox Browser Logo']},{title:"fa fa-flag",searchTerms:['Flag']},{title:"fa fa-flag-checkered",searchTerms:['Checkered Flag']},{title:"fa fa-flag-o",searchTerms:['Flag Outline']},{title:"fa fa-flask",searchTerms:['Chemistry Flask']},{title:"fa fa-flickr",searchTerms:['Flickr Logo']},{title:"fa fa-floppy-o",searchTerms:['Floppy Disk Outline']},{title:"fa fa-folder",searchTerms:['Folder']},{title:"fa fa-folder-o",searchTerms:['Folder Outline']},{title:"fa fa-folder-open",searchTerms:['Open Folder']},{title:"fa fa-folder-open-o",searchTerms:['Open Folder Outline']},{title:"fa fa-font",searchTerms:['Font']},{title:"fa fa-fort-awesome",searchTerms:['Castle']},{title:"fa fa-forumbee",searchTerms:['Forumbee Logo']},{title:"fa fa-forward",searchTerms:['Fast Foward']},{title:"fa fa-foursquare",searchTerms:['Foursquare Logo']},{title:"fa fa-frown-o",searchTerms:['Frowney Face']},{title:"fa fa-futbol-o",searchTerms:['Soccer Ball']},{title:"fa fa-gamepad",searchTerms:['Gamepad']},{title:"fa fa-gavel",searchTerms:['Gavel']},{title:"fa fa-gbp",searchTerms:['Pounds Currency Symbol']},{title:"fa fa-gear",searchTerms:['Gear']},{title:"fa fa-gears",searchTerms:['Gears']},{title:"fa fa-get-pocket",searchTerms:['Get Pocket Logo']},{title:"fa fa-gift",searchTerms:['Gift']},{title:"fa fa-git",searchTerms:['Git Logo']},{title:"fa fa-github",searchTerms:['Github Logo']},{title:"fa fa-github-square",searchTerms:['Github Logo in Square']},{title:"fa fa-git-square",searchTerms:['Git Logo in Square']},{title:"fa fa-glass",searchTerms:['Glass']},{title:"fa fa-globe",searchTerms:['Globe']},{title:"fa fa-google-plus",searchTerms:['Google+ Logo']},{title:"fa fa-google-plus-square",searchTerms:['Google+ Logo in Square']},{title:"fa fa-google-wallet",searchTerms:['Google Wallet']},{title:"fa fa-graduation-cap",searchTerms:['Graduation Cap']},{title:"fa fa-hand-lizard-o",searchTerms:['Lizard Hand Outline']},{title:"fa fa-hand-o-left",searchTerms:['Pointing Left Outline']},{title:"fa fa-hand-o-right",searchTerms:['Pointing Right Outline']},{title:"fa fa-hand-o-up",searchTerms:['Pointing Up Outline']},{title:"fa fa-hand-paper-o",searchTerms:['Paper Hand Outline']},{title:"fa fa-hand-peace-o",searchTerms:['Peace Hand Outline']},{title:"fa fa-hand-pointer-o",searchTerms:['Pointer Hand Outline']},{title:"fa fa-hand-rock-o",searchTerms:['Rock Hand Outline']},{title:"fa fa-hand-scissors-o",searchTerms:['Scissors Hand Outline']},{title:"fa fa-handshake-o",searchTerms:['Handshake Outline']},{title:"fa fa-hand-spock-o",searchTerms:['Spock Hand Outline']},{title:"fa fa-hashtag",searchTerms:['Hashtag']},{title:"fa fa-hdd-o",searchTerms:['Hard Drive']},{title:"fa fa-header",searchTerms:['Header']},{title:"fa fa-headphones",searchTerms:['Headphones']},{title:"fa fa-heart",searchTerms:['Heart']},{title:"fa fa-heartbeat",searchTerms:['Heartbeat']},{title:"fa fa-heart-o",searchTerms:['Heart Outline']},{title:"fa fa-history",searchTerms:['History']},{title:"fa fa-home",searchTerms:['Home']},{title:"fa fa-hospital-o",searchTerms:['Hospital Outline']},{title:"fa fa-hourglass-end",searchTerms:['End Hourglass']},{title:"fa fa-hourglass-half",searchTerms:['Halfway Hourglass']},{title:"fa fa-hourglass-start",searchTerms:['Start Hourglass']},{title:"fa fa-html5",searchTerms:['HTML5 Logo']},{title:"fa fa-id-badge",searchTerms:['ID Badge']},{title:"fa fa-id-card",searchTerms:['ID Card']},{title:"fa fa-id-card-o",searchTerms:['ID Card Outline']},{title:"fa fa-ils",searchTerms:['Shekel Currency Symbol']},{title:"fa fa-inbox",searchTerms:['Inbox']},{title:"fa fa-industry",searchTerms:['Factory Building']},{title:"fa fa-info",searchTerms:['Information']},{title:"fa fa-info-circle",searchTerms:['Information in Circle']},{title:"fa fa-inr",searchTerms:['Rupee Currency Symbol']},{title:"fa fa-instagram",searchTerms:['Instagram Logo']},{title:"fa fa-internet-explorer",searchTerms:['Internet Explorer Browser Logo']},{title:"fa fa-italic",searchTerms:['Italic']},{title:"fa fa-joomla",searchTerms:['Joomla Logo']},{title:"fa fa-jpy",searchTerms:['Yen Currency Symbol']},{title:"fa fa-key",searchTerms:['Key']},{title:"fa fa-keyboard-o",searchTerms:['Keyboard Outline']},{title:"fa fa-krw",searchTerms:['Won Currency Symbol']},{title:"fa fa-language",searchTerms:['Languages']},{title:"fa fa-laptop",searchTerms:['Laptop Computer']},{title:"fa fa-lastfm",searchTerms:['LastFM Logo']},{title:"fa fa-leaf",searchTerms:['Leaf']},{title:"fa fa-leanpub",searchTerms:['Leanpub Logo']},{title:"fa fa-lemon-o",searchTerms:['Lemon']},{title:"fa fa-level-down",searchTerms:['Level Down Arrow']},{title:"fa fa-level-up",searchTerms:['Level Up Arrow']},{title:"fa fa-life-saver",searchTerms:['Life Saver']},{title:"fa fa-lightbulb-o",searchTerms:['Light Globe']},{title:"fa fa-line-chart",searchTerms:['Line Chart']},{title:"fa fa-link",searchTerms:['Chain']},{title:"fa fa-linkedin",searchTerms:['Linkedin Logo']},{title:"fa fa-linkedin-square",searchTerms:['LinkedIn in Square']},{title:"fa fa-linux",searchTerms:['Linux Logo']},{title:"fa fa-list",searchTerms:['List']},{title:"fa fa-list-alt",searchTerms:['Alternate List']},{title:"fa fa-list-ol",searchTerms:['Ordered List']},{title:"fa fa-list-ul",searchTerms:['Unordered List']},{title:"fa fa-location-arrow",searchTerms:['Location Arrow']},{title:"fa fa-lock",searchTerms:['Lock']},{title:"fa fa-low-vision",searchTerms:['Low Vision']},{title:"fa fa-magic",searchTerms:['Magic Wand']},{title:"fa fa-magnet",searchTerms:['Magnet']},{title:"fa fa-male",searchTerms:['Male']},{title:"fa fa-map",searchTerms:['Map']},{title:"fa fa-map-marker",searchTerms:['Map Marker']},{title:"fa fa-map-pin",searchTerms:['Map Pin']},{title:"fa fa-map-signs",searchTerms:['Sign Post']},{title:"fa fa-mars",searchTerms:['Mars']},{title:"fa fa-mars-double",searchTerms:['Double Mars']},{title:"fa fa-maxcdn",searchTerms:['MaxCDN Logo']},{title:"fa fa-medkit",searchTerms:['First Aid Kit']},{title:"fa fa-meetup",searchTerms:['Meetup Logo']},{title:"fa fa-meh-o",searchTerms:['Meh']},{title:"fa fa-mercury",searchTerms:['Mercury']},{title:"fa fa-microchip",searchTerms:['Microchip']},{title:"fa fa-microphone",searchTerms:['Microphone']},{title:"fa fa-microphone-slash",searchTerms:['Disable Microphone']},{title:"fa fa-minus",searchTerms:['Minus Symbol']},{title:"fa fa-minus-square",searchTerms:['Minus Symbol in Square']},{title:"fa fa-minus-square-o",searchTerms:['Minus Symbol in Open Square']},{title:"fa fa-mobile",searchTerms:['Mobile Phone']},{title:"fa fa-money",searchTerms:['Banknote']},{title:"fa fa-moon-o",searchTerms:['Moon']},{title:"fa fa-motorcycle",searchTerms:['Motorcycle']},{title:"fa fa-mouse-pointer",searchTerms:['Mouse Pointer']},{title:"fa fa-music",searchTerms:['Music Note']},{title:"fa fa-neuter",searchTerms:['Neuter']},{title:"fa fa-newspaper-o",searchTerms:['Newspaper']},{title:"fa fa-object-group",searchTerms:['Group']},{title:"fa fa-object-ungroup",searchTerms:['Ungroup']},{title:"fa fa-opencart",searchTerms:['Opencart Logo']},{title:"fa fa-opera",searchTerms:['Opera Browser Logo']},{title:"fa fa-outdent",searchTerms:['Outdent']},{title:"fa fa-paint-brush",searchTerms:['Paint Brush']},{title:"fa fa-paperclip",searchTerms:['Paperclip']},{title:"fa fa-paragraph",searchTerms:['Paragraph']},{title:"fa fa-paste",searchTerms:['Clipboard']},{title:"fa fa-pause",searchTerms:['Pause Symbol']},{title:"fa fa-pause-circle",searchTerms:['Pause Symbol in Circle']},{title:"fa fa-pause-circle-o",searchTerms:['Pause Symbol in Circle Outline']},{title:"fa fa-paw",searchTerms:['Paw Print']},{title:"fa fa-paypal",searchTerms:['PayPal Logo']},{title:"fa fa-pencil",searchTerms:['Pencil']},{title:"fa fa-pencil-square",searchTerms:['Pencil in Square']},{title:"fa fa-pencil-square-o",searchTerms:['Pencil in Open Square']},{title:"fa fa-percent",searchTerms:['Percent Symbol']},{title:"fa fa-phone",searchTerms:['Phone']},{title:"fa fa-phone-square",searchTerms:['Phone in Square']},{title:"fa fa-picture-o",searchTerms:['Picture']},{title:"fa fa-pie-chart",searchTerms:['Pie Chart']},{title:"fa fa-pinterest",searchTerms:['Pinterest Logo']},{title:"fa fa-pinterest-p",searchTerms:['Alternate Pinterest']},{title:"fa fa-pinterest-square",searchTerms:['Pinterest Logo in Square']},{title:"fa fa-plane",searchTerms:['Plane']},{title:"fa fa-play",searchTerms:['Play Symbol']},{title:"fa fa-play-circle",searchTerms:['Play Symbol in Circle']},{title:"fa fa-play-circle-o",searchTerms:['Play Symbol in Open Circle']},{title:"fa fa-plug",searchTerms:['Electrical Plug']},{title:"fa fa-plus",searchTerms:['Plus Symbol']},{title:"fa fa-plus-circle",searchTerms:['Plus Symbol in Circle']},{title:"fa fa-plus-square",searchTerms:['Plus Symbol in Square']},{title:"fa fa-plus-square-o",searchTerms:['Plus Symbol in Open Square']},{title:"fa fa-podcast",searchTerms:['Podcast']},{title:"fa fa-power-off",searchTerms:['Power Off']},{title:"fa fa-print",searchTerms:['Print']},{title:"fa fa-puzzle-piece",searchTerms:['Puzzle Piece']},{title:"fa fa-qrcode",searchTerms:['QR Code']},{title:"fa fa-question",searchTerms:['Question Mark']},{title:"fa fa-question-circle",searchTerms:['Question Mark in Circle']},{title:"fa fa-question-circle-o",searchTerms:['Question Mark in Circle Outline']},{title:"fa fa-quote-left",searchTerms:['Left Quote Marks']},{title:"fa fa-quote-right",searchTerms:['Right Quote Marks']},{title:"fa fa-random",searchTerms:['Random Symbol']},{title:"fa fa-rebel",searchTerms:['Rebel Alliance Logo']},{title:"fa fa-recycle",searchTerms:['Recycle Logo']},{title:"fa fa-reddit",searchTerms:['Reddit Logo']},{title:"fa fa-reddit-square",searchTerms:['Reddit Logo in Square']},{title:"fa fa-refresh",searchTerms:['Refresh']},{title:"fa fa-registered",searchTerms:['Registered Mark']},{title:"fa fa-repeat",searchTerms:['Repeat']},{title:"fa fa-reply",searchTerms:['Reply Mail']},{title:"fa fa-reply-all",searchTerms:['Reply All Mail']},{title:"fa fa-retweet",searchTerms:['Retweet']},{title:"fa fa-road",searchTerms:['Road']},{title:"fa fa-rocket",searchTerms:['Rocketship']},{title:"fa fa-rss",searchTerms:['RSS Feed']},{title:"fa fa-rss-square",searchTerms:['RSS Feed Logo in Square']},{title:"fa fa-rub",searchTerms:['Rouble Currency Symbol']},{title:"fa fa-safari",searchTerms:['Safari Browser Logo']},{title:"fa fa-scissors",searchTerms:['Scissors']},{title:"fa fa-search",searchTerms:['Search']},{title:"fa fa-search-minus",searchTerms:['Search Minus']},{title:"fa fa-search-plus",searchTerms:['Search Plus']},{title:"fa fa-sellsy",searchTerms:['Sellsy Logo']},{title:"fa fa-send",searchTerms:['Paper Plane']},{title:"fa fa-send-o",searchTerms:['Paper Plane Outline']},{title:"fa fa-server",searchTerms:['Computer Server']},{title:"fa fa-share",searchTerms:['Forward Mail']},{title:"fa fa-share-alt",searchTerms:['Social Media Share']},{title:"fa fa-share-alt",searchTerms:['Social Media Share in Square']},{title:"fa fa-share-square",searchTerms:['Forward Mail in Square']},{title:"fa fa-share-square-o",searchTerms:['Forward Mail in Open Square']},{title:"fa fa-shield",searchTerms:['Shield']},{title:"fa fa-ship",searchTerms:['Ship']},{title:"fa fa-shopping-bag",searchTerms:['Shopping Bag']},{title:"fa fa-shopping-basket",searchTerms:['Shopping Basket']},{title:"fa fa-shopping-cart",searchTerms:['Shopping Trolley']},{title:"fa fa-shower",searchTerms:['Shower']},{title:"fa fa-signal",searchTerms:['Signal Strength']},{title:"fa fa-sign-language",searchTerms:['Sign Language']},{title:"fa fa-sign-out",searchTerms:['Sign Out']},{title:"fa fa-simplybuilt",searchTerms:['SimplyBuilt Logo']},{title:"fa fa-sing-in",searchTerms:['Sign In']},{title:"fa fa-sitemap",searchTerms:['Org Structure']},{title:"fa fa-skyatlas",searchTerms:['Sky Atlas Logo']},{title:"fa fa-skype",searchTerms:['Skype Logo']},{title:"fa fa-slack",searchTerms:['Slack Logo']},{title:"fa fa-sliders",searchTerms:['Control Sliders']},{title:"fa fa-slideshare",searchTerms:['Slideshare Logo']},{title:"fa fa-smile-o",searchTerms:['Smiley Face']},{title:"fa fa-snapchat",searchTerms:['Snapchat Logo']},{title:"fa fa-snapchat-ghost",searchTerms:['Snapchat Ghost']},{title:"fa fa-snapchat-square",searchTerms:['Snapchat Logo in Square']},{title:"fa fa-snowflake-o",searchTerms:['Snowflake']},{title:"fa fa-soundcloud",searchTerms:['SoundCloud Logo']},{title:"fa fa-spoon",searchTerms:['Spoon']},{title:"fa fa-spotify",searchTerms:['Spotify Logo']},{title:"fa fa-square",searchTerms:['Square']},{title:"fa fa-square-o",searchTerms:['Open Square']},{title:"fa fa-stack-overflow",searchTerms:['Stack Overflow Logo']},{title:"fa fa-star",searchTerms:['Star']},{title:"fa fa-star-half",searchTerms:['Half Star']},{title:"fa fa-star-o",searchTerms:['Star Outline']},{title:"fa fa-step-backward",searchTerms:['Previous Step']},{title:"fa fa-step-forward",searchTerms:['Next Step']},{title:"fa fa-stethoscope",searchTerms:['Stethoscope']},{title:"fa fa-sticky-note",searchTerms:['Sticky Note']},{title:"fa fa-sticky-note-o",searchTerms:['Sticky Note Outline']},{title:"fa fa-stop",searchTerms:['Stop Symbol']},{title:"fa fa-stop-circle",searchTerms:['Stop Symbol in Circle']},{title:"fa fa-stop-circle-o",searchTerms:['Stop Symbol in Circle Outline']},{title:"fa fa-street-view",searchTerms:['Street View Logo']},{title:"fa fa-strikethrough",searchTerms:['Strikethrough']},{title:"fa fa-subscript",searchTerms:['Subscript']},{title:"fa fa-subway",searchTerms:['Subway']},{title:"fa fa-suitcase",searchTerms:['Suitcase']},{title:"fa fa-sun-o",searchTerms:['Sun']},{title:"fa fa-superscript",searchTerms:['Superscript']},{title:"fa fa-table",searchTerms:['Table']},{title:"fa fa-tablet",searchTerms:['Tablet Computer']},{title:"fa fa-tag",searchTerms:['Tag']},{title:"fa fa-tags",searchTerms:['Tags']},{title:"fa fa-tasks",searchTerms:['Gantt Chart']},{title:"fa fa-telegram",searchTerms:['Telegram Logo']},{title:"fa fa-television",searchTerms:['Television']},{title:"fa fa-text-height",searchTerms:['Text Height']},{title:"fa fa-text-width",searchTerms:['Text Width']},{title:"fa fa-th",searchTerms:['Grid']},{title:"fa fa-thermometer-empty",searchTerms:['Empty Thermometer']},{title:"fa fa-thermometer-full",searchTerms:['Full Thermometer']},{title:"fa fa-thermometer-half",searchTerms:['Half Thermometer']},{title:"fa fa-thermometer-quarter",searchTerms:['Quarter Thermometer']},{title:"fa fa-thermometer-three-quarters",searchTerms:['Three Quarters Thermometer']},{title:"fa fa-th-large",searchTerms:['Large Grid']},{title:"fa fa-th-list",searchTerms:['Alternate List']},{title:"fa fa-thumbs-down",searchTerms:['Thumbs Down']},{title:"fa fa-thumbs-o-down",searchTerms:['Thumbs Down Outline']},{title:"fa fa-thumbs-o-up",searchTerms:['Thumbs Up Outline']},{title:"fa fa-thumbs-up",searchTerms:['Thumbs Up']},{title:"fa fa-thumb-tack",searchTerms:['Push Pin']},{title:"fa fa-ticket",searchTerms:['Ticket']},{title:"fa fa-times",searchTerms:['Letter X']},{title:"fa fa-times-circle",searchTerms:['X in Circle']},{title:"fa fa-times-circle-o",searchTerms:['X in Open Circle']},{title:"fa fa-toggle-off",searchTerms:['Toggle Off']},{title:"fa fa-toggle-on",searchTerms:['Toggle On']},{title:"fa fa-trademark",searchTerms:['Trademark']},{title:"fa fa-train",searchTerms:['Train']},{title:"fa fa-transgender",searchTerms:['Transgender Symbol']},{title:"fa fa-transgender-alt",searchTerms:['Alternate Transgender Symbol']},{title:"fa fa-trash",searchTerms:['Trash Can']},{title:"fa fa-trash-o",searchTerms:['Trash Can Outline']},{title:"fa fa-tree",searchTerms:['Tree']},{title:"fa fa-trello",searchTerms:['Trello Logo']},{title:"fa fa-tripadvisor",searchTerms:['Tripadvisor Logo']},{title:"fa fa-trophy",searchTerms:['Trophy']},{title:"fa fa-truck",searchTerms:['Truck']},{title:"fa fa-try",searchTerms:['Turkish Lira Currency Symbol']},{title:"fa fa-tty",searchTerms:['TTY']},{title:"fa fa-tumblr",searchTerms:['Tumblr']},{title:"fa fa-tumblr-square",searchTerms:['Tumblr Logo in Square']},{title:"fa fa-twitter",searchTerms:['Twitter Logo']},{title:"fa fa-twitter-square",searchTerms:['Twitter Logo in Square']},{title:"fa fa-umbrella",searchTerms:['Umbrella']},{title:"fa fa-underline",searchTerms:['Underline']},{title:"fa fa-undo",searchTerms:['Undo']},{title:"fa fa-universal-access",searchTerms:['Universal Access']},{title:"fa fa-university",searchTerms:['University Building']},{title:"fa fa-unlink",searchTerms:['Broken Chain']},{title:"fa fa-unlock",searchTerms:['Unlocked']},{title:"fa fa-unlock-alt",searchTerms:['Alternate Unlocked']},{title:"fa fa-upload",searchTerms:['Upload File']},{title:"fa fa-usb",searchTerms:['USB Logo']},{title:"fa fa-usd",searchTerms:['Dollar Currency Symbol']},{title:"fa fa-user",searchTerms:['User']},{title:"fa fa-user-circle",searchTerms:['User Circle']},{title:"fa fa-user-circle-o",searchTerms:['User Circle Outline']},{title:"fa fa-user-md",searchTerms:['Doctor']},{title:"fa fa-user-o",searchTerms:['User Outline']},{title:"fa fa-user-plus",searchTerms:['Plus Symbol on User']},{title:"fa fa-users",searchTerms:['Group']},{title:"fa fa-user-secret",searchTerms:['Secret User']},{title:"fa fa-user-times",searchTerms:['Times Symbol on User']},{title:"fa fa-venus",searchTerms:['Venus']},{title:"fa fa-venus-double",searchTerms:['Double Venus']},{title:"fa fa-video-camera",searchTerms:['Video Camera']},{title:"fa fa-vimeo",searchTerms:['Vimeo Logo in Square']},{title:"fa fa-vimeo",searchTerms:['Vimeo Logo']},{title:"fa fa-volume-down",searchTerms:['Volume Down']},{title:"fa fa-volume-off",searchTerms:['Volume Off']},{title:"fa fa-volume-up",searchTerms:['Volume Up']},{title:"fa fa-warning",searchTerms:['Warning Symbol']},{title:"fa fa-wechat",searchTerms:['WeChat Logo']},{title:"fa fa-weibo",searchTerms:['Weibo Logo']},{title:"fa fa-whatsapp",searchTerms:['Whatsapp Logo']},{title:"fa fa-wheelchair",searchTerms:['Wheelchair Symbol']},{title:"fa fa-wifi",searchTerms:['Wifi Logo']},{title:"fa fa-wikipedia-w",searchTerms:['Wikipedia Logo']},{title:"fa fa-windows",searchTerms:['Windows Logo']},{title:"fa fa-wordpress",searchTerms:['WordPress Logo']},{title:"fa fa-wrench",searchTerms:['Wrench']},{title:"fa fa-yelp",searchTerms:['Yelp Logo']},{title:"fa fa-youtube",searchTerms:['YouTube Logo']},{title:"fa fa-youtube-play",searchTerms:['YouTube Play Symbol']},{title:"fa fa-youtube-square",searchTerms:['YouTube Logo in Square']}]
				});
				$('.action-destroy').removeAttr('disabled');
				$('.action-create').attr('disabled','disabled');
			});
			
			$('body').on('iconpickerSelected', '.icp', function (e) {
				//alert(e.iconpickerValue);
				var faiconF = e.iconpickerValue;
				var faicon  = faiconF.replace("fa", "");
				
				//alert(e.iconpickerItem.classList);
				var theIcon = e.iconpickerItem.closest(".sms-box-sidebar-artefact-icon").querySelector(".fa");
				theIcon.classList.add("selectedIcon");
			
				$('.selectedIcon').removeClass(function (index, className) {
            		return(className.match (/(^|\s)fa-\S+/g) || []).join(' ');
        		}).addClass(faicon).addClass("fa-2x fa").removeClass("selectedIcon");
				displayBoxOutput();	
			});
			
		} );
		
		
	// From builder-scripts.js
	function processTextColor() {
		'use strict';			
        var newTextColor  = $("input[name=sms-form-tile-text-color]:checked").val();

        // Remove existing text color, and then set text color
        $("#wrapper .sms-box-header").removeClass("sms-text-light sms-text-dark");
        $("#wrapper .sms-box-header").addClass(newTextColor);
		displayBoxOutput();
	}
		
	// Image Toggle
	$("#sms-form-tile-shadow-0").change(function() {
		'use strict';
		processDropShadow();
		displayBoxOutput();
	});
		
	function processDropShadow() {
		'use strict';		
        $("#wrapper .sms-box").toggleClass("sms-shadow");		
	}	
		
		
		
		function toLowerHyphenated (aString) {
			var newString = aString.toLowerCase()
									.replace(/[^\w\s]|_/g, "")
         							.replace(/\s+/g, " ")
									.trim()
									.split(" ")
									.join("-");
			return newString;
		}
		
		$('.sms-box-header h4').blur(function() {
			var h4Con = $('.sms-box-header h4').text();
			var newID = toLowerHyphenated(h4Con) + "-box-top";
			var newLink = "#" + newID;
			
			$('.sms-box-header a.sms-box-header-anchor').attr("id", newID);
			$('.sms-box-back a.sms-box-back-btn').attr("href", newLink);
		});
		
		
		function displayBoxOutput() {
			'use strict';			
			// Show the HTML preview
        	var outputHTML = $("#wrapper").html();

        	// Write the output so it can be copied
        	$("#output").text(outputHTML);	
		}
		
	function runInlineConverter() {
		'use strict';			
		
		computedStyleToInlineStyle(document.querySelector("#wrapper .sms-box"), {
        	recursive: true,
        	properties: ["background-color", "box-shadow", "-moz-box-shadow", "-webkit-box-shadow", "box-sizing", "-moz-box-siding", "-webkit-box-sizing", "color", "display", "float", "font-weight", "font-size", "font-style", "line-height", "padding", "padding-top", "padding-right", "padding-bottom", "padding-left", "position", "z-index", "vertical-align", "height", "text-decoration", "clear", "border-bottom-width", "border-bottom-color", "border-bottom-style", "border-left-width", "border-left-color", "border-left-style"]
        });
		
		
		
		// Manually put in the sms-box width & margins
		$("#wrapper .sms-box").css("width", "96%", "margin-top", "20px", "margin-bottom", "20px", "margin-left", "auto", "margin-right", "auto");
		$("#wrapper .sms-box-header").css("width", "100%");
		$("#wrapper .sms-box-abstract").css("margin", "0 10px 10px");
		$("#wrapper .sms-box-shade-pattern-left-third .sms-box-shade-left, #wrapper .sms-box-shade-pattern-left-third .sms-box-sidebar").css("width","calc(((100% - 20px)/3)*1)");
		$("#wrapper .sms-box-shade-pattern-left-third .sms-box-shade-right, #wrapper .sms-box-shade-pattern-left-third .sms-box-content").css("width","calc(((100% - 20px)/3)*2)");
		$("#wrapper .sms-box-multi-list").css("column-count", "3", "-moz-column-count", "3", "-webkit-column-count", "3", "column-width", "200px", "-moz-column-width", "200px", "-webkit-column-width", "200px");
		$("#wrapper .sms-box-shade-right").css("right", "10px");
		$("#wrapper .sms-box-shade-left").css("left", "10px");		
		$("#wrapper .sms-box-sidebar").css("margin-left", "10px");
		
		// Remove any class that starts with .sms
		/*$('#wrapper *').removeClass(function (index, className) {
			return (className.match(/(^|\s)sms-\S+/g) ||[]).join(' ');
		});*/
		
		// Strip out any empty classes
		//$('#wrapper *[class=""]').removeAttr('class');		
		
		displayBoxOutput();
			
		return;
	}
		
	// Modal Importing
	$('#myBoxBuilderModal').on('shown.bs.modal', function () {
		'use strict';
    	$('#SMSImportTextarea').focus();
	});	
	
	$('#importBox').click(function() {
		'use strict';
		var inputBox = "";
		var boxCheck;
		var oldWrapper;
		
		inputBox = $('#myBoxBuilderModal').find('#SMSImportTextarea').val();
		oldWrapper = $("#wrapper").html();
		
		$("#wrapper").html(inputBox);
		
		boxCheck = $("#wrapper div").hasClass("sms-box");
		if (!boxCheck) {
			$("#wrapper").html(oldWrapper);
			
		}
			
		displayBoxOutput();		
		$('#myBoxBuilderModal').modal('hide');
	});		

		
		    // Totes borrowed from https://codepen.io/shaikmaqsood/pen/XmydxJ/
    function copyToClipboard(element) {
		'use strict';
        var $temp = $("<input>");
        $("body").append($temp);
        $temp.val($(element).text().trim()).select();
        document.execCommand("copy");
        $temp.remove();
    }
		
	</script>
	
	

</body>
</html>
